
### V8 engine 

(written in c++)

- JST ( just in time compiler) in V8
![[Screenshot 2023-09-17 at 2.30.23 PM.png]]

- using just the complier will be slow the first time it has to compile the whole code and get the machine code out of it. which is not ideal in cases like browser where we just want the javascript code to run directly
- thus javascript has to be ideally interpreted language.
- though interpreted languages has a problem that they get slow in the long run due to lack of optimisations like running the same whole code again and again instead of just passing the optimised version. 
- thus the Just in time complier or JST was introduced in 2000s which takes the best of the both world.

JST in V8 engine
- here the code is passed till the interpreter and then converted to bytecode (not as low level as machine code) which can be directly interpreted by the javascript engine.
- And then theres something called profiler or monitor which keeps tab on how the things are called in the code at the interpreter and takes the some code out of it for optimisation and pass on to the complier and then add the optimised code back to the byte code.
- this way as our program keeps on running it gets better and better due to optimisation  at run time by profiler. 
![[Screenshot 2023-09-17 at 2.47.26 PM.png]]

Thing about bytecode is that it is not understood by all machines directly like a machine code. thus with bytecode, you need software such as the virtual machine or a javascript engine so it can execute it. (just like a java virtual machine in case of java).

so Is javascript an interpreted language? - Not technically, 
in the initial years yes, but the things have evolved now and it depends on the javascript engine thus depends on the implementation . 


### why not just use machine code from the beginning ? 

- if we have to do all this interpretation and compiling of the language, why not just use the machine code from the beginning , why don't all programs just use machine code ahead of time, we compile our code lets say javascript and the we give our websites our machine code so they don't even have to worry about all this complier interpretation and JIT compiler. 

- You see , if javascript were compiled , then either compilation would have to be super fast because remember our javascript files get sent from the server to the browser, so the compiling has to happen on the browser or the competing browser this is Firefox , Microsoft Edge, Chrome browsers , safari would have to agree on some binary executable format or standard that can understand this machine code because at the end of the day, these browsers are the ones that are executing the code. 
- We now have something called WebAssembly and something that you should keep an eye on because. we have the standard binary executable format called **web assembly.** we might not need to do this compilation , interpretation on the browsers in future. 
